<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css" type="text/css">
    <title>Get Weather Form</title>
     <script>
      var apiKey = '0e57c807a628d5e136b3138b7ad24c27';
      document.addEventListener('DOMContentLoaded', weatherGet);
      function weatherGet(){
        document.getElementById('weatherSubmit').addEventListener('click', function(event){
          var zipC = document.getElementById('zipcode').value;
          var city = document.getElementById('cityName').value;
          var req = new XMLHttpRequest();
          if(zipC == null){
            req.open("GET", "http://api.openweathermap.org/data/2.5/weather?q=" + city + ",us&appid=" + apiKey, false);
          } else {
            req.open("GET", "http://api.openweathermap.org/data/2.5/weather?zip=" + zipC + ",us&appid=" + apiKey, false);
          }
          req.send(null);
          console.log(JSON.parse(req.responseText));
        })
      }
    </script>
  </head>
  <body>
    <form id="weatherForm" method="get">
      <legend> You can use this form to inspect the weather via your zip code!</legend>
      <fieldset>
        City name: <input type="text" name="cityName" id="cityName" value="Seattle"><br>
        Zip code: <input type="text" name="zipcode" id="zipcode" value="98115"><br><br>
        <input type="submit" value="Search" id="weatherSubmit">
      </fieldset>
    </form>
  </body>
</html>
